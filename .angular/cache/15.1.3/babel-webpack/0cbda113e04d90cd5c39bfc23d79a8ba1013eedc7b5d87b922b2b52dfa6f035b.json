{"ast":null,"code":"import { __awaiter, __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./home.page.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./home.page.scss?ngResource\";\nimport { HttpClient } from '@angular/common/http';\nimport { Component } from '@angular/core';\nimport { BehaviorSubject, Subscription } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { of } from 'rxjs';\nimport { fadeTransition } from 'src/app/animations';\nimport { AlertService } from 'src/app/services/alert.service';\nimport { AppService } from 'src/app/services/app.service';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { HttpService } from 'src/app/services/http.service';\nimport { NetworkService, NetworkState } from 'src/app/services/network.service';\nlet HomePage = class HomePage {\n  constructor(app, auth, alert, http, http2, network) {\n    this.app = app;\n    this.auth = auth;\n    this.alert = alert;\n    this.http = http;\n    this.http2 = http2;\n    this.network = network;\n    this.premiums = [{\n      id: 1,\n      name: 'Juan Perez',\n      job: 'Ménuisier',\n      location: 'Paris',\n      photoUrl: 'assets/img/profile.jpg',\n      coverUrl: 'assets/img/cover.jpg',\n      likes: 25,\n      rate: 3,\n      liked: true\n    }, {\n      id: 2,\n      name: 'Juan Perez',\n      job: 'Ménuisier',\n      location: 'Paris',\n      photoUrl: 'assets/img/profile.jpg',\n      likes: 105,\n      rate: 5,\n      liked: false\n    }, {\n      id: 3,\n      name: 'Juan Perez',\n      job: 'Ménuisier',\n      location: 'Paris',\n      photoUrl: '',\n      coverUrl: 'assets/img/cover2.jpg',\n      likes: 349,\n      rate: 2,\n      liked: false\n    }, {\n      id: 4,\n      name: 'Juan Perez',\n      job: 'Ménuisier',\n      location: 'Paris',\n      photoUrl: 'assets/img/profile.jpg',\n      coverUrl: 'assets/img/cover.jpg',\n      likes: 39,\n      rate: 4,\n      liked: true\n    }];\n    this.items = [{\n      id: 1,\n      name: 'Juan Perez',\n      job: 'Ménuisier',\n      location: 'Paris',\n      photoUrl: 'assets/img/profile.jpg',\n      likes: 25,\n      rate: 3,\n      liked: true\n    }, {\n      id: 2,\n      name: 'Juan Perez',\n      job: 'Ménuisier',\n      location: 'Paris',\n      photoUrl: 'assets/img/profile.jpg',\n      likes: 105,\n      rate: 5,\n      liked: false\n    }, {\n      id: 3,\n      name: 'Juan Perez',\n      job: 'Ménuisier',\n      location: 'Paris',\n      photoUrl: '',\n      likes: 349,\n      rate: 2,\n      liked: false\n    }, {\n      id: 4,\n      name: 'Juan Perez',\n      job: 'Ménuisier',\n      location: 'Paris',\n      photoUrl: 'assets/img/profile.jpg',\n      likes: 39,\n      rate: 4,\n      liked: true\n    }, {\n      id: 5,\n      name: 'Juan Perez',\n      job: 'Ménuisier',\n      location: 'Paris',\n      photoUrl: null,\n      likes: 9,\n      rate: 4,\n      liked: true\n    }, {\n      id: 6,\n      name: 'Juan Perez',\n      job: 'Ménuisier',\n      location: 'Paris',\n      photoUrl: 'assets/img/profile.jpg',\n      likes: 10,\n      rate: 4,\n      liked: false\n    }, {\n      id: 7,\n      name: 'Juan Perez',\n      job: 'Ménuisier',\n      location: 'Paris',\n      photoUrl: 'assets/img/profile.jpg',\n      likes: 60,\n      rate: 4,\n      liked: false\n    }, {\n      id: 8,\n      name: 'Juan Perez',\n      job: 'Ménuisier',\n      location: 'Paris',\n      photoUrl: 'assets/img/profile.jpg',\n      likes: 7,\n      rate: 4,\n      liked: true\n    }];\n    this.state = new BehaviorSubject('loading');\n    this.subscriptions = [];\n    this.netSub = Subscription.EMPTY;\n    this.data = [];\n    this.getData();\n  }\n  ngAfterViewInit() {\n    this.state.next('loading');\n    if (this.network.is('online')) {\n      this.fetchData();\n    } else {\n      this.state.next('offline');\n      this.netSub = this.network.listen().subscribe(state => {\n        if (state === NetworkState.on) {\n          this.fetchData();\n        }\n      });\n    }\n  }\n  ionViewDidEnter() {}\n  ionViewDidLeave() {\n    this.netSub.unsubscribe();\n    this.subscriptions.forEach(s => s.unsubscribe());\n  }\n  fetchData() {\n    return __awaiter(this, void 0, void 0, function* () {\n      this.state.next('loading');\n      setTimeout(() => {\n        this.state.next('ready');\n        this.netSub.unsubscribe();\n      }, 3000);\n    });\n  }\n  getData() {\n    const url = 'https://jsonplaceholder.typicode.com/todos'; // Ensure URL is correct\n    this.http2.get(url).pipe(catchError(error => {\n      console.error('Error fetching data', error);\n      return of([]); // Return an empty array or handle the error as needed\n    })).subscribe({\n      next: data => {\n        console.log(data);\n        this.data = data;\n      },\n      error: e => {\n        console.error('Error in subscription', e);\n      },\n      complete: () => {\n        console.log('Request complete');\n      }\n    });\n  }\n};\nHomePage.ctorParameters = () => [{\n  type: AppService\n}, {\n  type: AuthService\n}, {\n  type: AlertService\n}, {\n  type: HttpService\n}, {\n  type: HttpClient\n}, {\n  type: NetworkService\n}];\nHomePage = __decorate([Component({\n  selector: 'tab-home',\n  template: __NG_CLI_RESOURCE__0,\n  animations: [fadeTransition],\n  styles: [__NG_CLI_RESOURCE__1]\n})], HomePage);\nexport { HomePage };","map":{"version":3,"mappings":"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","names":["HttpClient","Component","BehaviorSubject","Subscription","catchError","of","fadeTransition","AlertService","AppService","AuthService","HttpService","NetworkService","NetworkState","HomePage","constructor","app","auth","alert","http","http2","network","id","name","job","location","photoUrl","coverUrl","likes","rate","liked","EMPTY","getData","ngAfterViewInit","state","next","is","fetchData","netSub","listen","subscribe","on","ionViewDidEnter","ionViewDidLeave","unsubscribe","subscriptions","forEach","s","setTimeout","url","get","pipe","error","console","data","log","e","complete","selector","template","animations"],"sourceRoot":"","sources":["/home/digifemmes-22lab149/Bureau/soutramoi-M/src/app/pages/tabs/home/home.page.ts"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport { AfterViewInit, Component } from '@angular/core';\nimport { BehaviorSubject, Subscription } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { of } from 'rxjs';\nimport { fadeTransition } from 'src/app/animations';\nimport { AlertService } from 'src/app/services/alert.service';\nimport { AppService } from 'src/app/services/app.service';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { HttpService } from 'src/app/services/http.service';\nimport { NetworkService, NetworkState } from 'src/app/services/network.service';\n\n@Component({\n  selector: 'tab-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n  animations: [fadeTransition],\n})\nexport class HomePage implements AfterViewInit {\n  premiums: Professional[] = [\n    {\n      id: 1,\n      name: 'Juan Perez',\n      job: 'Ménuisier',\n      location: 'Paris',\n      photoUrl: 'assets/img/profile.jpg',\n      coverUrl: 'assets/img/cover.jpg',\n      likes: 25,\n      rate: 3,\n      liked: true,\n    },\n    {\n      id: 2,\n      name: 'Juan Perez',\n      job: 'Ménuisier',\n      location: 'Paris',\n      photoUrl: 'assets/img/profile.jpg',\n      likes: 105,\n      rate: 5,\n      liked: false,\n    },\n    {\n      id: 3,\n      name: 'Juan Perez',\n      job: 'Ménuisier',\n      location: 'Paris',\n      photoUrl: '',\n      coverUrl: 'assets/img/cover2.jpg',\n      likes: 349,\n      rate: 2,\n      liked: false,\n    },\n    {\n      id: 4,\n      name: 'Juan Perez',\n      job: 'Ménuisier',\n      location: 'Paris',\n      photoUrl: 'assets/img/profile.jpg',\n      coverUrl: 'assets/img/cover.jpg',\n      likes: 39,\n      rate: 4,\n      liked: true,\n    },\n  ];\n  items: Professional[] = [\n    {\n      id: 1,\n      name: 'Juan Perez',\n      job: 'Ménuisier',\n      location: 'Paris',\n      photoUrl: 'assets/img/profile.jpg',\n      likes: 25,\n      rate: 3,\n      liked: true,\n    },\n    {\n      id: 2,\n      name: 'Juan Perez',\n      job: 'Ménuisier',\n      location: 'Paris',\n      photoUrl: 'assets/img/profile.jpg',\n      likes: 105,\n      rate: 5,\n      liked: false,\n    },\n    {\n      id: 3,\n      name: 'Juan Perez',\n      job: 'Ménuisier',\n      location: 'Paris',\n      photoUrl: '',\n      likes: 349,\n      rate: 2,\n      liked: false,\n    },\n    {\n      id: 4,\n      name: 'Juan Perez',\n      job: 'Ménuisier',\n      location: 'Paris',\n      photoUrl: 'assets/img/profile.jpg',\n      likes: 39,\n      rate: 4,\n      liked: true,\n    },\n    {\n      id: 5,\n      name: 'Juan Perez',\n      job: 'Ménuisier',\n      location: 'Paris',\n      photoUrl: null,\n      likes: 9,\n      rate: 4,\n      liked: true,\n    },\n    {\n      id: 6,\n      name: 'Juan Perez',\n      job: 'Ménuisier',\n      location: 'Paris',\n      photoUrl: 'assets/img/profile.jpg',\n      likes: 10,\n      rate: 4,\n      liked: false,\n    },\n    {\n      id: 7,\n      name: 'Juan Perez',\n      job: 'Ménuisier',\n      location: 'Paris',\n      photoUrl: 'assets/img/profile.jpg',\n      likes: 60,\n      rate: 4,\n      liked: false,\n    },\n    {\n      id: 8,\n      name: 'Juan Perez',\n      job: 'Ménuisier',\n      location: 'Paris',\n      photoUrl: 'assets/img/profile.jpg',\n      likes: 7,\n      rate: 4,\n      liked: true,\n    },\n  ];\n\n  state = new BehaviorSubject<PageState>('loading');\n\n  private subscriptions: Subscription[] = [];\n  private netSub = Subscription.EMPTY;\n  data: any[]=[];\n  constructor(\n    private app: AppService,\n    private auth: AuthService,\n    private alert: AlertService,\n    private http: HttpService,\n   private http2:HttpClient,\n    private network: NetworkService,\n  ) { \n\n    this.getData();\n  }\n\n  ngAfterViewInit() {\n    this.state.next('loading');\n\n    if (this.network.is('online')) {\n      this.fetchData();\n    } else {\n      this.state.next('offline');\n\n      this.netSub = this.network.listen().subscribe(state => {\n        if (state === NetworkState.on) {\n          this.fetchData();\n        }\n      });\n    }\n  }\n\n  ionViewDidEnter() { }\n\n  ionViewDidLeave() {\n    this.netSub.unsubscribe();\n    this.subscriptions.forEach(s => s.unsubscribe());\n  }\n\n  private async fetchData() {\n    this.state.next('loading');\n\n    setTimeout(() => {\n      this.state.next('ready');\n      this.netSub.unsubscribe();\n    }, 3000);\n  }\n\n  getData(){\n\n    const url = 'https://jsonplaceholder.typicode.com/todos'; // Ensure URL is correct\n\n    this.http2.get<any[]>(url)\n      .pipe(\n        catchError(error => {\n          console.error('Error fetching data', error);\n          return of([]);  // Return an empty array or handle the error as needed\n        })\n      )\n      .subscribe({\n        next: data => {\n          console.log(data);\n          this.data = data;\n        },\n        error: e => {\n          console.error('Error in subscription', e);\n        },\n        complete: () => {\n          console.log('Request complete');\n        }\n      });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}