{"ast":null,"code":"import { __awaiter, __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./search.page.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./search.page.scss?ngResource\";\nimport { Component, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nlet SearchPage = class SearchPage {\n  constructor(router) {\n    this.router = router;\n    this.model = {\n      icon: 'search-outline',\n      title: 'Aucun enregistrement correspondant à un professionnel n\\'a été trouvé'\n    };\n    this.loading = false;\n    this.mode = true;\n    this.query = '';\n    this.items = [];\n    this.stack = [{\n      id: 1,\n      name: 'Juan Perez',\n      job: 'Ménuisier',\n      location: 'Paris',\n      photoUrl: 'assets/img/profile.jpg',\n      likes: 25,\n      rate: 3,\n      liked: true\n    }, {\n      id: 2,\n      name: 'Juan Perez',\n      job: 'Maçon',\n      location: 'Paris',\n      photoUrl: 'assets/img/profile.jpg',\n      likes: 105,\n      rate: 5,\n      liked: false\n    }, {\n      id: 3,\n      name: 'Juan Perez',\n      job: 'Ménuisier',\n      location: 'Paris',\n      photoUrl: '',\n      likes: 349,\n      rate: 2,\n      liked: false\n    }, {\n      id: 4,\n      name: 'Juan Perez',\n      job: 'Peintre',\n      location: 'Paris',\n      photoUrl: 'assets/img/profile.jpg',\n      likes: 39,\n      rate: 4,\n      liked: true\n    }, {\n      id: 5,\n      name: 'Juan Perez',\n      job: 'Ménuisier',\n      location: 'Paris',\n      photoUrl: null,\n      likes: 9,\n      rate: 4,\n      liked: true\n    }, {\n      id: 6,\n      name: 'Juan Perez',\n      job: 'Electricien',\n      location: 'Paris',\n      photoUrl: 'assets/img/profile.jpg',\n      likes: 10,\n      rate: 4,\n      liked: false\n    }, {\n      id: 7,\n      name: 'Juan Perez',\n      job: 'Plombier',\n      location: 'Paris',\n      photoUrl: 'assets/img/profile.jpg',\n      likes: 60,\n      rate: 4,\n      liked: false\n    }, {\n      id: 8,\n      name: 'Juan Perez',\n      job: 'Ménuisier',\n      location: 'Paris',\n      photoUrl: 'assets/img/profile.jpg',\n      likes: 7,\n      rate: 4,\n      liked: true\n    }];\n    this.subscriptions = [];\n  }\n  ngOnInit() {\n    setTimeout(() => {\n      this.sInput.setFocus();\n    }, 500);\n  }\n  ngAfterViewInit() {}\n  ionViewDidEnter() {\n    this.items = this.stack;\n  }\n  ionViewDidLeave() {\n    this.items = [];\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n  navigate(item) {\n    this.router.navigate(['/pro', item.id]);\n  }\n  /*onSearchChange(event){\n    console.log(event.detail.value);\n    this.query=event.detail.value.toLowerCase();\n    if(this.query.length  > 0){\n      this.items= this.stack.filter((element:any) => {\n        return element.location.includes(this.query);\n      });\n      console.log(this.items);\n    }\n  }*/\n  onSearchChange(event) {\n    return __awaiter(this, void 0, void 0, function* () {\n      console.log(event.detail.value);\n      this.query = event.detail.value.toLowerCase();\n      this.items = [];\n      if (this.query.length > 0) {\n        this.isLoading = true;\n        setTimeout(() => __awaiter(this, void 0, void 0, function* () {\n          this.items = yield this.stack.filter(element => {\n            return element.job.toLowerCase().includes(this.query);\n          });\n          console.log(this.items);\n          this.isLoading = false;\n        }), 3000);\n      } else {\n        //this.items = [];\n      }\n    });\n  }\n};\nSearchPage.ctorParameters = () => [{\n  type: Router\n}];\nSearchPage.propDecorators = {\n  sInput: [{\n    type: ViewChild,\n    args: ['searchInput']\n  }]\n};\nSearchPage = __decorate([Component({\n  selector: 'app-search',\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], SearchPage);\nexport { SearchPage };","map":{"version":3,"mappings":";;;AAAA,SAAwBA,SAAS,EAAaC,SAAS,QAAQ,eAAe;AAC9E,SAASC,MAAM,QAAQ,iBAAiB;AAQjC,IAAMC,UAAU,GAAhB,MAAMA,UAAU;EAiGrBC,YACUC,MAAc;IAAd,WAAM,GAANA,MAAM;IAhGhB,UAAK,GAAO;MACVC,IAAI,EAAE,gBAAgB;MACtBC,KAAK,EAAC;KACP;IAGD,YAAO,GAAG,KAAK;IACf,SAAI,GAAG,IAAI;IACX,UAAK,GAAW,EAAE;IAClB,UAAK,GAAmB,EAAE;IAC1B,UAAK,GAAmB,CACtB;MACEC,EAAE,EAAE,CAAC;MACLC,IAAI,EAAE,YAAY;MAClBC,GAAG,EAAE,WAAW;MAChBC,QAAQ,EAAE,OAAO;MACjBC,QAAQ,EAAE,wBAAwB;MAClCC,KAAK,EAAE,EAAE;MACTC,IAAI,EAAE,CAAC;MACPC,KAAK,EAAE;KACR,EACD;MACEP,EAAE,EAAE,CAAC;MACLC,IAAI,EAAE,YAAY;MAClBC,GAAG,EAAE,OAAO;MACZC,QAAQ,EAAE,OAAO;MACjBC,QAAQ,EAAE,wBAAwB;MAClCC,KAAK,EAAE,GAAG;MACVC,IAAI,EAAE,CAAC;MACPC,KAAK,EAAE;KACR,EACD;MACEP,EAAE,EAAE,CAAC;MACLC,IAAI,EAAE,YAAY;MAClBC,GAAG,EAAE,WAAW;MAChBC,QAAQ,EAAE,OAAO;MACjBC,QAAQ,EAAE,EAAE;MACZC,KAAK,EAAE,GAAG;MACVC,IAAI,EAAE,CAAC;MACPC,KAAK,EAAE;KACR,EACD;MACEP,EAAE,EAAE,CAAC;MACLC,IAAI,EAAE,YAAY;MAClBC,GAAG,EAAE,SAAS;MACdC,QAAQ,EAAE,OAAO;MACjBC,QAAQ,EAAE,wBAAwB;MAClCC,KAAK,EAAE,EAAE;MACTC,IAAI,EAAE,CAAC;MACPC,KAAK,EAAE;KACR,EACD;MACEP,EAAE,EAAE,CAAC;MACLC,IAAI,EAAE,YAAY;MAClBC,GAAG,EAAE,WAAW;MAChBC,QAAQ,EAAE,OAAO;MACjBC,QAAQ,EAAE,IAAI;MACdC,KAAK,EAAE,CAAC;MACRC,IAAI,EAAE,CAAC;MACPC,KAAK,EAAE;KACR,EACD;MACEP,EAAE,EAAE,CAAC;MACLC,IAAI,EAAE,YAAY;MAClBC,GAAG,EAAE,aAAa;MAClBC,QAAQ,EAAE,OAAO;MACjBC,QAAQ,EAAE,wBAAwB;MAClCC,KAAK,EAAE,EAAE;MACTC,IAAI,EAAE,CAAC;MACPC,KAAK,EAAE;KACR,EACD;MACEP,EAAE,EAAE,CAAC;MACLC,IAAI,EAAE,YAAY;MAClBC,GAAG,EAAE,UAAU;MACfC,QAAQ,EAAE,OAAO;MACjBC,QAAQ,EAAE,wBAAwB;MAClCC,KAAK,EAAE,EAAE;MACTC,IAAI,EAAE,CAAC;MACPC,KAAK,EAAE;KACR,EACD;MACEP,EAAE,EAAE,CAAC;MACLC,IAAI,EAAE,YAAY;MAClBC,GAAG,EAAE,WAAW;MAChBC,QAAQ,EAAE,OAAO;MACjBC,QAAQ,EAAE,wBAAwB;MAClCC,KAAK,EAAE,CAAC;MACRC,IAAI,EAAE,CAAC;MACPC,KAAK,EAAE;KACR,CACF;IAEO,kBAAa,GAAmB,EAAE;EAItC;EAEJC,QAAQ;IACNC,UAAU,CAAC,MAAI;MACb,IAAI,CAACC,MAAM,CAACC,QAAQ,EAAE;IACxB,CAAC,EAAE,GAAG,CAAC;EACT;EACAC,eAAe,IAAK;EAEpBC,eAAe;IACb,IAAI,CAACC,KAAK,GAAG,IAAI,CAACC,KAAK;EACzB;EAEAC,eAAe;IACb,IAAI,CAACF,KAAK,GAAG,EAAE;IACf,IAAI,CAACG,aAAa,CAACC,OAAO,CAACC,GAAG,IAAIA,GAAG,CAACC,WAAW,EAAE,CAAC;EACtD;EAEAC,WAAW;IACT,IAAI,CAACJ,aAAa,CAACC,OAAO,CAACC,GAAG,IAAIA,GAAG,CAACC,WAAW,EAAE,CAAC;EACtD;EAEAE,QAAQ,CAACC,IAAkB;IACzB,IAAI,CAAC1B,MAAM,CAACyB,QAAQ,CAAC,CAAC,MAAM,EAAEC,IAAI,CAACvB,EAAE,CAAC,CAAC;EACzC;EAEA;;;;;;;;;;EAWMwB,cAAc,CAACC,KAAK;;MACxBC,OAAO,CAACC,GAAG,CAACF,KAAK,CAACG,MAAM,CAACC,KAAK,CAAC;MAC/B,IAAI,CAACC,KAAK,GAAGL,KAAK,CAACG,MAAM,CAACC,KAAK,CAACE,WAAW,EAAE;MAC7C,IAAI,CAACjB,KAAK,GAAC,EAAE;MACb,IAAI,IAAI,CAACgB,KAAK,CAACE,MAAM,GAAG,CAAC,EAAE;QACzB,IAAI,CAACC,SAAS,GAAC,IAAI;QACnBxB,UAAU,CAAC,MAAUyB;UACpB,IAAI,CAACpB,KAAK,GAAG,MAAM,IAAI,CAACC,KAAK,CAACoB,MAAM,CAAEC,OAAqB,IAAI;YAC5D,OAAOA,OAAO,CAAClC,GAAG,CAAC6B,WAAW,EAAE,CAACM,QAAQ,CAAC,IAAI,CAACP,KAAK,CAAC;UACvD,CAAC,CAAC;UACFJ,OAAO,CAACC,GAAG,CAAC,IAAI,CAACb,KAAK,CAAC;UACvB,IAAI,CAACmB,SAAS,GAAC,KAAK;QACtB,CAAC,GAAE,IAAI,CAAC;OAET,MAAM;QACL;MAAA;IAEJ,CAAC;;;;;;;;UAxJAxC,SAAS;IAAA6C,OAAC,aAAa;EAAA;;AADb3C,UAAU,eALtBH,SAAS,CAAC;EACT+C,QAAQ,EAAE,YAAY;EACtBC,8BAAiC;;CAElC,CAAC,GACW7C,UAAU,CA0JtB;SA1JYA,UAAU","names":["Component","ViewChild","Router","SearchPage","constructor","router","icon","title","id","name","job","location","photoUrl","likes","rate","liked","ngOnInit","setTimeout","sInput","setFocus","ngAfterViewInit","ionViewDidEnter","items","stack","ionViewDidLeave","subscriptions","forEach","sub","unsubscribe","ngOnDestroy","navigate","item","onSearchChange","event","console","log","detail","value","query","toLowerCase","length","isLoading","__awaiter","filter","element","includes","args","selector","template"],"sourceRoot":"","sources":["/home/digifemmes-22lab149/Bureau/soutramoi-M/src/app/pages/search/search.page.ts"],"sourcesContent":["import { AfterViewInit, Component, OnDestroy, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-search',\n  templateUrl: './search.page.html',\n  styleUrls: ['./search.page.scss'],\n})\nexport class SearchPage implements AfterViewInit, OnDestroy {\n  @ViewChild('searchInput') sInput;\n  model: any= {\n    icon: 'search-outline',\n    title:'Aucun enregistrement correspondant à un professionnel n\\'a été trouvé'\n  };\n\n  isLoading: boolean;\n  loading = false;\n  mode = true;\n  query: string = '';\n  items: Professional[] = [];\n  stack: Professional[] = [\n    {\n      id: 1,\n      name: 'Juan Perez',\n      job: 'Ménuisier',\n      location: 'Paris',\n      photoUrl: 'assets/img/profile.jpg',\n      likes: 25,\n      rate: 3,\n      liked: true,\n    },\n    {\n      id: 2,\n      name: 'Juan Perez',\n      job: 'Maçon',\n      location: 'Paris',\n      photoUrl: 'assets/img/profile.jpg',\n      likes: 105,\n      rate: 5,\n      liked: false,\n    },\n    {\n      id: 3,\n      name: 'Juan Perez',\n      job: 'Ménuisier',\n      location: 'Paris',\n      photoUrl: '',\n      likes: 349,\n      rate: 2,\n      liked: false,\n    },\n    {\n      id: 4,\n      name: 'Juan Perez',\n      job: 'Peintre',\n      location: 'Paris',\n      photoUrl: 'assets/img/profile.jpg',\n      likes: 39,\n      rate: 4,\n      liked: true,\n    },\n    {\n      id: 5,\n      name: 'Juan Perez',\n      job: 'Ménuisier',\n      location: 'Paris',\n      photoUrl: null,\n      likes: 9,\n      rate: 4,\n      liked: true,\n    },\n    {\n      id: 6,\n      name: 'Juan Perez',\n      job: 'Electricien',\n      location: 'Paris',\n      photoUrl: 'assets/img/profile.jpg',\n      likes: 10,\n      rate: 4,\n      liked: false,\n    },\n    {\n      id: 7,\n      name: 'Juan Perez',\n      job: 'Plombier',\n      location: 'Paris',\n      photoUrl: 'assets/img/profile.jpg',\n      likes: 60,\n      rate: 4,\n      liked: false,\n    },\n    {\n      id: 8,\n      name: 'Juan Perez',\n      job: 'Ménuisier',\n      location: 'Paris',\n      photoUrl: 'assets/img/profile.jpg',\n      likes: 7,\n      rate: 4,\n      liked: true,\n    },\n  ];\n\n  private subscriptions: Subscription[] = [];\n\n  constructor(\n    private router: Router,\n  ) { }\n\n  ngOnInit(){\n    setTimeout(()=>{\n      this.sInput.setFocus();\n    }, 500);\n  }\n  ngAfterViewInit() { }\n\n  ionViewDidEnter() {\n    this.items = this.stack;\n  }\n\n  ionViewDidLeave() {\n    this.items = [];\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n\n  navigate(item: Professional) {\n    this.router.navigate(['/pro', item.id]);\n  }\n\n  /*onSearchChange(event){\n    console.log(event.detail.value);\n    this.query=event.detail.value.toLowerCase();\n    if(this.query.length  > 0){\n      this.items= this.stack.filter((element:any) => {\n        return element.location.includes(this.query);\n      });\n      console.log(this.items);\n    }\n  }*/\n\n  async onSearchChange(event) {\n    console.log(event.detail.value);\n    this.query = event.detail.value.toLowerCase();\n    this.items=[];\n    if (this.query.length > 0) {\n      this.isLoading=true;\n      setTimeout(async ()=>{\n       this.items = await this.stack.filter((element: Professional) => {\n          return element.job.toLowerCase().includes(this.query);\n        });\n        console.log(this.items);\n        this.isLoading=false;\n      }, 3000);\n      \n    } else {\n      //this.items = [];\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}